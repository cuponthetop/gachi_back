<!DOCTYPE html>
<html>

<head>
  <!--
  head에 기술하는 것은 다음 규칙에 따른다.
  1. 공통 head
  7. 페이지별 스타일 시트
  8. 구글 애널리틱스
  9. 페이스북 픽셀
  10. JS
    -->

  <% include /common/common.ejs %>

    <link href="/css/chat/create.css" rel="stylesheet" type="text/css" />

</head>

<body>

  <% include ../nav/nav_level1.ejs %>

    <div id="create-chat-container">
    </div>

    <script>
      var detail = new Vue({
        el: '#create-chat-container',
        data: {
          fetched: false,
          festival: null,
        },
        created: function () {
          this.fetchFestivalInfo("<%=fid %>");
        },
        methods: {
          validateDuration: function () {

          },
          createChatroom: function () {

          },
          fetchFestivalInfo: function (fid) {
            $.ajax({
              type: 'GET',
              url: gachi.GACHI_URL + 'v1/festival/' + fid,
              dataType: 'json'
            }).then(function (festival) {
              console.log(festival);
              this.festival = festival;
              this.fetched = true;
            }.bind(this)).fail(function (error) {
              console.error(JSON.stringify(error));
            })
          },
          moment: function (date) {
            return moment(date);
          }
        }
      });
    </script>
</body>

</html>